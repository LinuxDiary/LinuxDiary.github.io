(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{228:function(s,a,t){"use strict";t.r(a);var e=t(6),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"系统常用配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统常用配置"}},[s._v("#")]),s._v(" 系统常用配置")]),s._v(" "),a("h2",{attrs:{id:"创建sudo用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建sudo用户"}},[s._v("#")]),s._v(" 创建sudo用户")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" nginx\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" PASSWORD "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--stdin")]),s._v(" nginx\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-G")]),s._v(" wheel nginx\n")])])]),a("h2",{attrs:{id:"vi别名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vi别名"}},[s._v("#")]),s._v(" vi别名")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"alias vi='vim'\"")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /etc/profile\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile\n")])])]),a("h2",{attrs:{id:"关闭ipv6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关闭ipv6"}},[s._v("#")]),s._v(" 关闭ipv6")]),s._v(" "),a("h3",{attrs:{id:"内核参数方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内核参数方式"}},[s._v("#")]),s._v(" 内核参数方式")]),s._v(" "),a("p",[s._v("通过配置内核参数关闭 "),a("code",[s._v("ipv6")]),s._v(" ，配置完成之后需要重启系统生效")]),s._v(" "),a("p",[a("strong",[s._v("CentOS6")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'echo \"options ipv6 disable=1\" > /etc/modprobe.d/disable-ipv6.conf'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" ip6tables off\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" now\n")])])]),a("p",[s._v("编辑 "),a("code",[s._v("/boot/grub/grub.conf")]),s._v(" 文件，在内核启动参数后面追加 "),a("code",[s._v("ipv6.disable=1")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("kernel /vmlinuz-2.6.32-431.el6.x86_64 ro "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("root")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("UUID"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("2cccbdae-d43f-4109-9679-e4ab6c32afde rd_NO_LUKS rd_NO_LVM "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANG")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("en_US.UTF-8 rd_NO_MD "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SYSFONT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("latarcyrheb-sun16 "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("crashkernel")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("auto  "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KEYBOARDTYPE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("pc "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KEYTABLE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("us rd_NO_DM rhgb quiet "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ipv6.disable")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])])]),a("p",[s._v("重启系统")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" now\n")])])]),a("p",[a("strong",[s._v("CentOS7")])]),s._v(" "),a("p",[s._v("编辑 "),a("code",[s._v("/etc/default/grub")]),s._v(" 文件，修改 "),a("code",[s._v("GRUB_CMDLINE_LINUX")]),s._v(" 选项，添加 "),a("code",[s._v("ipv6.disable=1")]),s._v(" 参数")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GRUB_TIMEOUT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GRUB_DEFAULT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("saved\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GRUB_DISABLE_SUBMENU")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GRUB_TERMINAL_OUTPUT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"console"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GRUB_CMDLINE_LINUX")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ipv6.disable=1 crashkernel=auto rhgb quiet"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GRUB_DISABLE_RECOVERY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"true"')]),s._v("\n")])])]),a("p",[s._v("生成配置文件后，重启系统")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("grub2-mkconfig "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" /boot/grub2/grub.cfg\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" now\n")])])]),a("h3",{attrs:{id:"sysctl方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sysctl方式"}},[s._v("#")]),s._v(" sysctl方式")]),s._v(" "),a("p",[s._v("编辑 "),a("code",[s._v("/etc/sysctl.conf")]),s._v(" 文件，添加如下配置")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("net.ipv6.conf.all.disable_ipv6 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nnet.ipv6.conf.default.disable_ipv6 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])])]),a("p",[s._v("生效配置")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sysctl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v("\n")])])]),a("p",[s._v("其中 "),a("code",[s._v("net.ipv6.conf.all.disable_ipv6")]),s._v(" 表示针对所有网卡，如果希望某一个网卡禁用，可以指定网卡 "),a("code",[s._v("net.ipv6.conf.eth0.disable_ipv6 = 1")]),s._v(" 。这种修改方式不需要重启系统即可生效。")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("关闭 "),a("code",[s._v("ipv6")]),s._v(" 以后，可能会导致有些使用 "),a("code",[s._v("ipv6")]),s._v(" 的应用和服务出现错误，例如 "),a("code",[s._v("MySQL")]),s._v(" "),a("code",[s._v("ssh")]),s._v(" "),a("code",[s._v("vsftpd")]),s._v(" 等，需要在其配置文件中禁用 "),a("code",[s._v("ipv6")]),s._v(" 选项，而启用 "),a("code",[s._v("ipv4")]),s._v(" ，如 "),a("code",[s._v("vsftpd")]),s._v(" 中可能需要 "),a("code",[s._v("listen=YES")]),s._v(" "),a("code",[s._v("listen_ipv6=NO")])])]),s._v(" "),a("h2",{attrs:{id:"history计数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#history计数"}},[s._v("#")]),s._v(" history计数")]),s._v(" "),a("p",[s._v("根据实际情况修改 "),a("code",[s._v("HISTSIZE")]),s._v(" 值，默认为 "),a("code",[s._v("1000")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/profile\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("HISTSIZE")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile\n")])])]),a("h2",{attrs:{id:"ssh设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssh设置"}},[s._v("#")]),s._v(" ssh设置")]),s._v(" "),a("h3",{attrs:{id:"登录设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#登录设置"}},[s._v("#")]),s._v(" 登录设置")]),s._v(" "),a("p",[s._v("禁止 "),a("code",[s._v("root")]),s._v(" 用户远程登录，不允许空密码，关闭 "),a("code",[s._v("ssh")]),s._v(" 反向查询，同时保留一个具有 "),a("code",[s._v("sudo")]),s._v(" 权限的普通用户 "),a("code",[s._v("www")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/#PermitRootLogin yes/PermitRootLogin no'")]),s._v(" /etc/ssh/sshd_config\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/#PermitEmptyPasswords no/PermitEmptyPasswords no'")]),s._v(" /etc/ssh/sshd_config\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/#UseDNS no/UseDNS no'")]),s._v(" /etc/ssh/sshd_config\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-G")]),s._v(" wheel www\nsystemctl restart sshd\n")])])]),a("h3",{attrs:{id:"端口设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#端口设置"}},[s._v("#")]),s._v(" 端口设置")]),s._v(" "),a("p",[s._v("修改 "),a("code",[s._v("/etc/ssh/sshd_config")]),s._v(" 文件")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Port "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2122")]),s._v("\n")])])]),a("p",[s._v("修改 "),a("code",[s._v("iptables")]),s._v(" 规则")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("iptables "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-I")]),s._v(" INPUT "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" tcp "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--dport")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("62122")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-j")]),s._v(" ACCEPT\niptables-save "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /etc/sysconfit/iptables\n")])])]),a("p",[s._v("重启 "),a("code",[s._v("ssh")]),s._v(" 服务")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("systemctl reload sshd.service "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl restart sshd.service")]),s._v("\n")])])]),a("p",[s._v("如果启用了 "),a("code",[s._v("SELinux")]),s._v(" ，重启服务后 "),a("code",[s._v("secure")]),s._v(" 日志中可能会报错")]),s._v(" "),a("blockquote",[a("p",[s._v("sshd[1089]: error: Bind to port 2122 on 0.0.0.0 failed: Permission denied")])]),s._v(" "),a("p",[s._v("设置 "),a("code",[s._v("SELinux")]),s._v(" 规则，将新端口添加到允许列表")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("semanage port "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" ssh_port_t "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" tcp "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2122")]),s._v("\n")])])]),a("p",[s._v("通过命令 "),a("code",[s._v("semanage port -l | grep ssh")]),s._v(" 查看新的端口允许列表")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("ssh_port_t tcp "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2122,22")]),s._v("\n")])])]),a("h2",{attrs:{id:"ssh秘钥登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssh秘钥登录"}},[s._v("#")]),s._v(" ssh秘钥登录")]),s._v(" "),a("p",[s._v("在目标机器上创建秘钥，注意秘钥路径，使用"),a("code",[s._v("/root/.ssh/test_id_rsa")]),s._v("路径时，会默认赋予"),a("code",[s._v(".ssh")]),s._v("目录"),a("code",[s._v("700")]),s._v("权限，否则需要手动修改目录权限"),a("code",[s._v("chmod -R 700 .ssh")]),s._v("，"),a("strong",[s._v("如果不改，连接"),a("code",[s._v("ssh")]),s._v("会被拒绝")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("ssh-keygen \nGenerating public/private rsa key pair.\nEnter "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" to save the key "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/root/.ssh/id_rsa"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": /root/.ssh/test_id_rsa \nEnter passphrase "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("empty "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" no passphrase"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": \nEnter same passphrase again: \nYour identification has been saved "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" /root/.ssh/test_id_rsa.\nYour public key has been saved "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" /root/.ssh/test_id_rsa.pub.\nThe key fingerprint is:\nSHA256:4yLpoHd2Vp09wP2s6XXxy/oFDmbMTW1IpMxIFGSlLEY root@p-96b7-neym-0010.novalocal\nThe key's randomart image is:\n+---"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("RSA "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("----+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("        Eo*o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("o  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" o o "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("        o.+.+ o o"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" .oo.o "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("        S. +*oo. "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".ooooo.o"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" o "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".    +o +"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("oo.o.    o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".o"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(" o.o     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".o+ "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+----"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("SHA256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("-----+\n")])])]),a("p",[s._v("拷贝公钥"),a("code",[s._v("test_id_rsa.pub")]),s._v("到"),a("code",[s._v("authorized_keys")]),s._v("中，修改权限"),a("code",[s._v("chmod 600 authorized_keys")])]),s._v(" "),a("p",[s._v("如果没有文件，直接创建后再修改权限")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" test_id_rsa.pub "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" authorized_keys\n")])])]),a("p",[s._v("报错私钥"),a("code",[s._v("test_id_rsa")]),s._v("到本地，添加到"),a("code",[s._v("ssh")]),s._v("客户端连接即可，或者使用命令连接")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" test_id_rsa root@ip\n")])])]),a("h2",{attrs:{id:"升级ssh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#升级ssh"}},[s._v("#")]),s._v(" 升级ssh")]),s._v(" "),a("h3",{attrs:{id:"下载最新版ssh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载最新版ssh"}},[s._v("#")]),s._v(" 下载最新版ssh")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://cdn.openbsd.org/pub/OpenBSD/OpenSSH/portable/openssh-8.9p1.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xf openssh-8.9p1.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" openssh-8.9p1/\n")])])]),a("h3",{attrs:{id:"删除旧版ssh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除旧版ssh"}},[s._v("#")]),s._v(" 删除旧版ssh")]),s._v(" "),a("p",[s._v("注意卸载时的依赖，尽量在系统初始化时升级ssh")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yum remove openssh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rf")]),s._v(" /etc/ssh/*\n")])])]),a("h3",{attrs:{id:"编译新版ssh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译新版ssh"}},[s._v("#")]),s._v(" 编译新版ssh")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" pam-devel\n./configure "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--prefix")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--sysconfdir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc/ssh "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--with-openssl-includes"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/ssl/include "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--with-ssl-dir"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/ssl "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--with-zlib "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--with-md5-passwords "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--with-pam\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),a("h3",{attrs:{id:"配置sshd服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置sshd服务"}},[s._v("#")]),s._v(" 配置sshd服务")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v("\nopenssh-8.9p1\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" contrib/redhat/sshd.init /etc/init.d/sshd\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" contrib/redhat/sshd.pam /etc/pam.d/sshd.pam\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x /etc/init.d/sshd\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--add")]),s._v(" sshd\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" sshd on\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" sshd start\n")])])]),a("p",[s._v("配置好以后可以使用"),a("code",[s._v("systemctl")]),s._v("管理"),a("code",[s._v("sshd")])]),s._v(" "),a("h3",{attrs:{id:"查看ssh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看ssh"}},[s._v("#")]),s._v(" 查看ssh")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-V")]),s._v("\nOpenSSH_8.9p1, OpenSSL "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(".2k-fips  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v(" Jan "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v("\n\nsystemctl status sshd\n")])])]),a("h3",{attrs:{id:"升级后配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#升级后配置"}},[s._v("#")]),s._v(" 升级后配置")]),s._v(" "),a("p",[s._v("根据情况配置"),a("code",[s._v("/etc/ssh/sshd_config")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("PasswordAuthentication "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\nPubkeyAuthentication "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\nPermitRootLogin "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n")])])]),a("h2",{attrs:{id:"修改时区"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改时区"}},[s._v("#")]),s._v(" 修改时区")]),s._v(" "),a("p",[a("code",[s._v("CentOS6")]),s._v(" 的时区文件是 "),a("code",[s._v("/etc/localtime")]),s._v(" ，而 "),a("code",[s._v("7")]),s._v(" 的 "),a("code",[s._v("/etc/localtime")]),s._v(" 是一个链接")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# CentOS 7")]),s._v("\n\n$ ll /etc/localtime\nlrwxrwxrwx "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v(" Oct "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":01 /etc/localtime -"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/usr/share/zoneinfo/Asia/Shanghai\n")])])]),a("p",[a("code",[s._v("CentOS7")]),s._v(" 如果采用直接 "),a("code",[s._v("cp")]),s._v(" 的方法修改系统时区，那么就会把它所链接的文件修改掉，例如把美国的时区文件内容修改成了上海的时区内容，有可能会导致有些程序在读取系统时区的时候发生错误，因此正确的修改方法是：")]),s._v(" "),a("p",[a("strong",[s._v("CentOS6")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n")])])]),a("p",[a("strong",[s._v("CentOS7")])]),s._v(" "),a("p",[s._v("最好的办法是使用 "),a("code",[s._v("timedatectl")]),s._v(" 命令")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" timedatectl list-timezones "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" Shanghai "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查找中国时区的完整名称")]),s._v("\nAsia/Shanghai\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" timedatectl set-timezone Asia/Shanghai "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#其他时区以此类推")]),s._v("\n")])])]),a("h2",{attrs:{id:"时间同步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#时间同步"}},[s._v("#")]),s._v(" 时间同步")]),s._v(" "),a("p",[s._v("安装"),a("code",[s._v("ntpd")]),s._v("和"),a("code",[s._v("ntpdate")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" ntp\n")])])]),a("p",[s._v("采用阿里云的时间服务器配置"),a("code",[s._v("/etc/ntp.conf")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("driftfile  /var/lib/ntp/drift\npidfile   /var/run/ntpd.pid\nlogfile /var/log/ntp.log\nrestrict    default kod nomodify notrap nopeer noquery\nrestrict "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-6")]),s._v(" default kod nomodify notrap nopeer noquery\nrestrict "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1\nserver "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.127")]),s._v(".1.0\nfudge  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.127")]),s._v(".1.0 stratum "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\nserver ntp.aliyun.com iburst minpoll "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" maxpoll "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\nrestrict ntp.aliyun.com nomodify notrap nopeer noquery\n")])])]),a("p",[s._v("启动"),a("code",[s._v("ntpd")]),s._v("服务")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" ntpd "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" systemctl start ntpd\n")])])]),a("p",[s._v("如果本机时间和标准时间相差较大，可以使用"),a("code",[s._v("ntpdate")]),s._v("命令立刻更新时间")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("ntpdate "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" ntp.aliyun.com\n")])])]),a("p",[s._v("其中"),a("code",[s._v("ntpd")]),s._v("服务是用来微调本机时间与标准时间直接的微小差距，如果时间相差较大，"),a("code",[s._v("ntpd")]),s._v("无法自动完成校准")]),s._v(" "),a("h2",{attrs:{id:"设置启动内核"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置启动内核"}},[s._v("#")]),s._v(" 设置启动内核")]),s._v(" "),a("p",[s._v("以下操作需要 "),a("code",[s._v("root")]),s._v(" 权限")]),s._v(" "),a("h3",{attrs:{id:"查看当前系统内核列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看当前系统内核列表"}},[s._v("#")]),s._v(" 查看当前系统内核列表")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("div",{staticClass:"highlight-lines"},[a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" -F"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("' "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'$1=="menuentry " {print i++ " : " $2}\'')]),s._v(" /etc/grub2.cfg\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" CentOS Linux "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.10")]),s._v(".0-693.2.2.el7.x86_64"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" CentOS Linux, with Linux "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.10")]),s._v(".0-123.el7.x86_64\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" CentOS Linux, with Linux "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-rescue-25f6666d21994946b4f2527b8f48d8c2\n")])])]),a("h3",{attrs:{id:"查看默认启动的内核"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看默认启动的内核"}},[s._v("#")]),s._v(" 查看默认启动的内核")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("div",{staticClass:"highlight-lines"},[a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("grub2-editenv list\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("saved_entry")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CentOS Linux "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.10")]),s._v(".0-693.2.2.el7.x86_64"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h3",{attrs:{id:"设置默认启动的内核"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置默认启动的内核"}},[s._v("#")]),s._v(" 设置默认启动的内核")]),s._v(" "),a("p",[s._v("根据上面列出的内核列表编号设置")]),s._v(" "),a("p",[a("strong",[s._v("方法一")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("grub2-set-default "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])])]),a("p",[a("strong",[s._v("方法二")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/default/grub\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GRUB_DEFAULT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\ngrub2-mkconfig "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" /boot/grub2/grub.cfg\n")])])]),a("h2",{attrs:{id:"恢复root口令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#恢复root口令"}},[s._v("#")]),s._v(" 恢复root口令")]),s._v(" "),a("h3",{attrs:{id:"centos6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centos6"}},[s._v("#")]),s._v(" CentOS6")]),s._v(" "),a("p",[s._v("在引导菜单倒计时界面按任意键，进入 "),a("code",[s._v("grub")]),s._v(" 引导菜单，定位到 "),a("code",[s._v("kernel")]),s._v(" 行，按 "),a("code",[s._v("e")]),s._v(" 键进入内核引导参数编辑界面，在末尾追加 "),a("code",[s._v("single")]),s._v(" （也可以填数字1），回车返回上级界面，按 "),a("code",[s._v("b")]),s._v(" 键开始引导当前内核，成功引导到单用户模式下，直接执行 "),a("code",[s._v("passwd")]),s._v(" 命令重置 "),a("code",[s._v("root")]),s._v(" 密码，然后按 "),a("code",[s._v("Ctrl+d")]),s._v(" 或执行 "),a("code",[s._v("exit")]),s._v(" 命令")]),s._v(" "),a("h3",{attrs:{id:"centos7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centos7"}},[s._v("#")]),s._v(" CentOS7")]),s._v(" "),a("p",[s._v("在引导菜单倒计时界面按 "),a("code",[s._v("e")]),s._v(" 键，进入 "),a("code",[s._v("grub")]),s._v(" 引导参数编辑界面，定位到 "),a("code",[s._v("linux16")]),s._v(" 所在行的末尾，追加 "),a("code",[s._v("rd.break")]),s._v(" ，也可以追加 "),a("code",[s._v("systemd.unit=emergency.target(或systemd.unit=rescue.target) init=/sysroot/bin/sh")]),s._v(" ，按 "),a("code",[s._v("Ctrl+x")]),s._v(" 引导，最后 "),a("code",[s._v("chroot")]),s._v(" 到 "),a("code",[s._v("/sysroot")]),s._v(" 下修改 "),a("code",[s._v("root")]),s._v(" 口令")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("switch_root:/"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mount -o remount,rw /sysroot")]),s._v("\nswitch_root:/"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chroot /sysroot")]),s._v("\nsh-4.2"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# passwd")]),s._v("\nsh-4.2"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# touch /.autorelabel #告诉Linux在下次引导时给所有文件重新赋予selinux标签")]),s._v("\nsh-4.2"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# exit")]),s._v("\nswitch_root:/"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# exit")]),s._v("\n")])])]),a("h2",{attrs:{id:"设置网卡子接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置网卡子接口"}},[s._v("#")]),s._v(" 设置网卡子接口")]),s._v(" "),a("p",[s._v("以下操作需要 "),a("code",[s._v("root")]),s._v(" 权限，以 "),a("code",[s._v("eth0")]),s._v(" 为例")]),s._v(" "),a("p",[a("strong",[s._v("临时生效")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" addr "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.1")]),s._v(".1.1/24 dev eth0 lable eth0:0\n")])])]),a("p",[a("strong",[s._v("永久生效")])]),s._v(" "),a("p",[s._v("在 "),a("code",[s._v("/etc/sysconfig/network-scripts/")]),s._v(" 中拷贝一个 "),a("code",[s._v("ifcfg-eth0")]),s._v(" 为 "),a("code",[s._v("ifcfg-eth0:0")]),s._v(" ，修改其中的配置信息，去掉默认网关，其他不变")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("IPADDR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.1")]),s._v(".1.1\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PREFIX")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# GATEWAY=10.1.1.254")]),s._v("\n")])])]),a("p",[s._v("重启网络服务")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("systemctl restart network.services "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# service network restart (CentOS6)")]),s._v("\n")])])]),a("h2",{attrs:{id:"最大文件打开数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#最大文件打开数"}},[s._v("#")]),s._v(" 最大文件打开数")]),s._v(" "),a("p",[s._v("针对 "),a("code",[s._v("www")]),s._v(" 用户设置，也可以使用 "),a("code",[s._v("*")]),s._v(" 对所有用户设置，重启生效。这里设置的值不能大于 "),a("code",[s._v("file-max")]),s._v(" ，编辑 "),a("code",[s._v("/etc/security/limits.d/20-nproc.conf")]),s._v(" 文件，添加如下配置")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("www   soft    nproc   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("65535")]),s._v("\nwww   hard    nproc   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("65535")]),s._v("\nwww   soft    nofile  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("65535")]),s._v("\nwww   hard    nofile  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("65535")]),s._v("\n")])])]),a("p",[s._v("通过命令 "),a("code",[s._v('cat /proc/<pid>/limits | grep "Max open files"')]),s._v(" 查看 "),a("code",[s._v("www")]),s._v(" 用户下运行进程的 "),a("code",[s._v("limits")]),s._v(" 查看打开文件数限制")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Max "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" files            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("65535")]),s._v("                "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("65535")]),s._v("                files\n")])])]),a("h2",{attrs:{id:"命令行提示符颜色"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令行提示符颜色"}},[s._v("#")]),s._v(" 命令行提示符颜色")]),s._v(" "),a("p",[s._v("默认命令行提示符是白色，配置成彩色有利于快速定位命令行提示符，退出后重新登录生效")]),s._v(" "),a("p",[a("strong",[s._v("全局设置")])]),s._v(" "),a("p",[s._v("在 "),a("code",[s._v("/etc/bashrc")]),s._v(" 中找到下面一行，注释后修改")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  [ "$PS1" = "\\\\s-\\\\v\\\\\\$ " ] && PS1="[\\u@\\h \\W]\\\\$ "')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PS1")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("s-"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("v"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v('\\$ "')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PS1")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\['),a("span",{pre:!0,attrs:{class:"token entity",title:"\\e"}},[s._v("\\e")]),s._v("[35m\\][\\u@\\h \\W]"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("$\\["),a("span",{pre:!0,attrs:{class:"token entity",title:"\\e"}},[s._v("\\e")]),s._v('[0m\\] "')]),s._v("\n")])])]),a("p",[a("strong",[s._v("普通用户设置")])]),s._v(" "),a("p",[s._v("在 "),a("code",[s._v("~/.bashrc")]),s._v(" 中添加一行")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PS1")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\['),a("span",{pre:!0,attrs:{class:"token entity",title:"\\e"}},[s._v("\\e")]),s._v("[35m\\][\\u@\\h \\W]"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v("$\\["),a("span",{pre:!0,attrs:{class:"token entity",title:"\\e"}},[s._v("\\e")]),s._v('[0m\\] "')]),s._v("\n")])])]),a("p",[s._v("or")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PS1")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\n\\e[1;37m[\\e[m\\e[1;35m\\u\\e[m\\e[1;36m@\\e[m\\e[1;37m\\H\\e[m \\e[1;33m\\A\\e[m \\w\\e[m\\e[1;37m]\\e[m\\e[1;36m\\e[m\\n\\$ '")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANG")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("en_US.UTF-8\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LC_ALL")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("en_US.UTF-8\n")])])]),a("p",[s._v("新版 "),a("code",[s._v("Debian")]),s._v(" 风格")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PS1")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\['),a("span",{pre:!0,attrs:{class:"token entity",title:"\\e"}},[s._v("\\e")]),s._v("]0;\\u@\\h: \\w"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\a"}},[s._v("\\a")]),s._v("\\]\\["),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v("[01;32m\\]\\u@\\h\\["),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v("[00m\\]:\\["),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v("[01;34m\\]\\w\\["),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v('[00m\\]# "')]),s._v("\n")])])]),a("p",[a("strong",[s._v("颜色代码")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[s._v("Front")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("Background")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("color")])])]),s._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("30")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("40")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("黑色")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("31")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("41")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("红色")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("32")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("42")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("绿色")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("33")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("43")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("黄色")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("34")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("44")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("蓝色")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("35")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("45")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("紫红色")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("36")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("46")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("青蓝色")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("37")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("47")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("白色")])])])]),s._v(" "),a("h2",{attrs:{id:"适当减少不必要的磁盘i-o"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#适当减少不必要的磁盘i-o"}},[s._v("#")]),s._v(" 适当减少不必要的磁盘I/O")]),s._v(" "),a("p",[s._v("有些线上业务可能不必要记录文件访问时间 "),a("code",[s._v("atime")]),s._v(" ，例如 "),a("code",[s._v("WEB")]),s._v(" 应用的静态资源，因此可以在对应的磁盘分区上关闭记录文件访问时间以减少磁盘 "),a("code",[s._v("I/O")]),s._v(" ，在 "),a("code",[s._v("/etc/fstab")]),s._v(" 中修改挂载参数")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("/dev/sda2   /home   xfs     noatime,nodiratime "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])])]),a("h2",{attrs:{id:"nologin用户配置家目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nologin用户配置家目录"}},[s._v("#")]),s._v(" nologin用户配置家目录")]),s._v(" "),a("p",[s._v("有时在系统中安装软件时会创建一个专用用户，例如 "),a("code",[s._v("mysql")]),s._v(" ，但是并没有为它设置家目录。但是后来又需要 "),a("code",[s._v("mysql")]),s._v(" 作为一个普通用户来使用。")]),s._v(" "),a("h3",{attrs:{id:"配置方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置方法"}},[s._v("#")]),s._v(" 配置方法")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" /bin/bash mysql\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /home/mysql\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("700")]),s._v(" /home/mysql\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" /etc/skel/. /home/mysql\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" mysql:mysql /home/mysql\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("755")]),s._v(" /home\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" - mysql\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),a("p",[s._v("如果没有创建家目录或者没有登陆 "),a("code",[s._v("shell")]),s._v(" ，可能会出现以下报错：")]),s._v(" "),a("p",[s._v("su warning cannot change directory to /home/mysql , no such file or directory")])]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),a("p",[s._v("权限问题，可能出现以下报错：")]),s._v(" "),a("p",[s._v("su: warning: cannot change directory to /home/mysql: Permission denied")]),s._v(" "),a("p",[s._v("如果确保了 "),a("code",[s._v("/home/mysql")]),s._v(" 目录权限和用户组完全正确，那么就是 "),a("code",[s._v("/home")]),s._v(" 目录的问题，它的权限应为 "),a("code",[s._v("755")]),s._v(" ，用户和组都应是 "),a("code",[s._v("root")]),s._v(" ，如果不是，同样会报 "),a("code",[s._v("Permission denied")])])]),s._v(" "),a("h2",{attrs:{id:"常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[s._v("#")]),s._v(" 常用命令")]),s._v(" "),a("p",[s._v("主机名及相关信息")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("hostnamectl\n")])])]),a("p",[s._v("查看系统版本")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/system-release "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /etc/centos-release")]),s._v("\n")])])]),a("p",[s._v("查看机器型号")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("dmidecode "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" Product\n")])])]),a("p",[s._v("查看内存物理插槽使用情况")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("dmidecode "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-A5")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Memory Device"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" Size "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" Range\n")])])]),a("p",[s._v("查看所有磁盘")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("fdisk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\n")])])]),a("p",[s._v("查看已挂载磁盘空间使用情况")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v("\n")])])]),a("p",[s._v("查看磁盘挂载情况")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("findmnt\n")])])]),a("p",[s._v("查看CPU详细信息")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("lscpu\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);